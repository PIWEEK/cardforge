console.log("Hello from the plugin!");let a,n;penpot.ui.open("CardForge","",{width:1200,height:650});function o(){let e=penpot.currentPage.getPluginData("cardsData");console.log("loaded cards data:",e);let t=JSON.parse(e);penpot.ui.sendMessage({type:"CARDS_DATA",data:t})}function r(e){penpot.currentPage.name=e.name,a=penpot.createFrame(),a.name="Front";const t=penpot.createFrame();t.name="inside",t.borderRadius=10,t.strokes=[{strokeColor:"#000000",strokeStyle:"solid",strokeWidth:10,strokeAlignment:"inner"}],console.log(e),e.size=="P1"&&(e.orientation=="portrait"?(a.resize(238,333),t.resize(218,313)):(a.resize(333,238),t.resize(313,218)),t.x=10,t.y=10),a.appendChild(t),n=a.clone(),n.name="Back",n.x+=a.width+50}function i(e){penpot.currentPage.getShapeById("00000000-0000-0000-0000-000000000000").children.length==0?r(e):penpot.ui.sendMessage({type:"ERROR_DECK_CREATE_PAGE_NOT_EMPTY"})}penpot.ui.onMessage(e=>{console.log("message: ",e),e.type==="duplicate"||(e.type==="create-deck"?i(e):e.type==="save-cards-data"?penpot.currentPage.setPluginData("cardsData",JSON.stringify(e.data)):e.type==="load-cards-data"&&o())});
